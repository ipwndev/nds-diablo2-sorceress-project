<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Loading images</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>Loading images<br>
<small>
[<a class="el" href="group__images.html">Images</a>]</small>
</h1>Image loading support for various formats.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#g649d4f91c0b19516eb43417fee78cf22">ulLoadImagePNG</a> (<a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *f, int location, int pixelFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#g0a1cef1e9b704268972dcb0f2ac673f3">ulLoadImageJPG</a> (<a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *f, int location, int pixelFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#g3b2ecdc38cf74c709c0a25806290ec14">ulLoadImageGIF</a> (<a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *f, int location, int pixelFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#g4431909d4dadae24d4dd819b1834f9eb">ulLoadImageFilePNG</a> (const char *fileName, int fileSize, int flags, int pixelFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#g8fe4adbe1db7c512d7829de788b0f8f3">ulLoadImageFileJPG</a> (const char *fileName, int fileSize, int flags, int pixelFormat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__images__loading.html#gfebb48111c34192e4a41fd9d5293e8b1">ulLoadImageFileGIF</a> (const char *fileName, int fileSize, int flags, int pixelFormat)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Image loading support for various formats. 
<p>
Here are the approximative code sizes for currently supported formats:<ul>
<li>JPG loading code: 7 kB</li><li>GIF loading code: 35 kB</li><li>PNG loading code: 135 kB</li></ul>
<p>
You can choose between 2 alternatives:<ul>
<li>Use gif for paletted images (up to 256 colors) and jpg for true color images (16 bits).</li><li>Use png for everything. Png decoding code is huge but png files take less space, so it may be a better solution in the long term. </li></ul>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g649d4f91c0b19516eb43417fee78cf22"></a><!-- doxytag: member="drawing.h::ulLoadImagePNG" ref="g649d4f91c0b19516eb43417fee78cf22" args="(VIRTUAL_FILE *f, int location, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImagePNG           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a PNG file. You can pass an open virtual file, which can be open from everything (RAM, libFat, gbfs, ...).<p>
If your PNG contains a palette and the wanted pixelFormat is paletted, then it will use that palette, in the same order. The first color will be transparent.<p>
If your PNG doesn't contain a palette and the wanted pixelFormat is paletted, then a palette will be created from the source image, but it must not contain more than the total number of colors! The color key (ulSetTransparentColor) will be used as a transparent color.<p>
If the wanted pixelFormat is not paletted, then the image will be loaded directly, wether it contains a palette or not. The color key will be used for transparency if your pixel format is 5551, as well as the alpha channel defined in your PNG (0 - 127 = transparent, 128 - 255 = opaque). 
</div>
</div><p>
<a class="anchor" name="g0a1cef1e9b704268972dcb0f2ac673f3"></a><!-- doxytag: member="drawing.h::ulLoadImageJPG" ref="g0a1cef1e9b704268972dcb0f2ac673f3" args="(VIRTUAL_FILE *f, int location, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImageJPG           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a JPG file. Same remark as for loading PNG. The format must be 16 bits (5550 or 5551) and there is no transparency support. 
</div>
</div><p>
<a class="anchor" name="g3b2ecdc38cf74c709c0a25806290ec14"></a><!-- doxytag: member="drawing.h::ulLoadImageGIF" ref="g3b2ecdc38cf74c709c0a25806290ec14" args="(VIRTUAL_FILE *f, int location, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImageGIF           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a GIF file. Same remarks as for loading PNG. Your GIF file can have a transparent color set, which is not the first one. The palette colors will then be swapped so that this color becomes transparent. If your GIF has no transparent color, it searches for the color key and uses this one as transparent. If it's not found or you have not defined a color key, then it uses the first palette color as transparent. 
</div>
</div><p>
<a class="anchor" name="g4431909d4dadae24d4dd819b1834f9eb"></a><!-- doxytag: member="loading_utility.h::ulLoadImageFilePNG" ref="g4431909d4dadae24d4dd819b1834f9eb" args="(const char *fileName, int fileSize, int flags, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImageFilePNG           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load directly from a file. If the file is a filename for FAT or GBFS, the size should be 0. If you're loading from memory, then fileName is a pointer to the memory address and fileSize its size.<p>
See the Loading utility section for more informations. 
</div>
</div><p>
<a class="anchor" name="g8fe4adbe1db7c512d7829de788b0f8f3"></a><!-- doxytag: member="loading_utility.h::ulLoadImageFileJPG" ref="g8fe4adbe1db7c512d7829de788b0f8f3" args="(const char *fileName, int fileSize, int flags, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImageFileJPG           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Same but for JPG. 
</div>
</div><p>
<a class="anchor" name="gfebb48111c34192e4a41fd9d5293e8b1"></a><!-- doxytag: member="loading_utility.h::ulLoadImageFileGIF" ref="gfebb48111c34192e4a41fd9d5293e8b1" args="(const char *fileName, int fileSize, int flags, int pixelFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___i_m_a_g_e.html">UL_IMAGE</a>* ulLoadImageFileGIF           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pixelFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Same but for GIF. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jul 14 23:39:33 2007 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>

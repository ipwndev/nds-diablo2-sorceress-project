<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Text</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>Text</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_l___f_o_n_t_i_n_f_o.html">UL_FONTINFO</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_l___f_o_n_t___f_o_r_m_a_t___h_e_a_d_e_r.html">UL_FONT_FORMAT_HEADER</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gc4d4097b356c7743273418c8cc900190">ulSetFont</a>(f)&nbsp;&nbsp;&nbsp;(<a class="el" href="group__text.html#g661817b19e16b823ca6dfa7490539fa4">ul_curFont</a> = f)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#ga1bf5076556037713cd3633a46a6a271">ulPrintf_xy</a>(x, y, format...)&nbsp;&nbsp;&nbsp;({ char __str[1000]; sprintf(__str , ##format); ulDrawString(x, y, __str); })</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g2ae468a0f52453e15d842cef4f6f6b91">ulInitText</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g9a0ff65f930b62cd20f1b15df3df49e1">ulCreateFont</a> (<a class="el" href="struct_u_l___f_o_n_t_i_n_f_o.html">UL_FONTINFO</a> *fi)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g5587621b750ebb5bae92ab5f1d08971f">ulLoadFont</a> (<a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *f)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g3ceb66f3f39d33aad66472c1ec9443a1">ulDrawChar</a> (int x, int y, unsigned char c)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gd82d4e5f5778e56cd7670980eb7abceb">ulDrawString</a> (int x, int y, const char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gfc589388a5d3bc2860e53c8cef305c9e">ulSetTextColor</a> (<a class="el" href="group__drawing.html#geefa5857a2cf954b5d167c4803e2b61b">UL_COLOR</a> color)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gde9e53a1636d10af6118bae243c459a1">ulDrawTextBox</a> (int x0, int y0, int x1, int y1, const char *text, int format)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g97430a307d9f1f78df7c81242006d5aa">ulGetStringWidth</a> (const char *str)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gbd7a07ed619f6f149e0519ffc5a59a0a">ulGetTextBoxHeight</a> (int width, int maxHeight, const char *text, int format)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#g661817b19e16b823ca6dfa7490539fa4">ul_curFont</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__text.html#gd08afa62af824bf66b28409c6879297f">ul_lcdFont</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Text support with support for loading OldSchool Library fonts (.oft). <hr><h2>Define Documentation</h2>
<a class="anchor" name="gc4d4097b356c7743273418c8cc900190"></a><!-- doxytag: member="text.h::ulSetFont" ref="gc4d4097b356c7743273418c8cc900190" args="(f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ulSetFont          </td>
          <td>(</td>
          <td class="paramtype">f&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(<a class="el" href="group__text.html#g661817b19e16b823ca6dfa7490539fa4">ul_curFont</a> = f)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the current font. 
</div>
</div><p>
<a class="anchor" name="ga1bf5076556037713cd3633a46a6a271"></a><!-- doxytag: member="text.h::ulPrintf_xy" ref="ga1bf5076556037713cd3633a46a6a271" args="(x, y, format...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ulPrintf_xy          </td>
          <td>(</td>
          <td class="paramtype">x,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">y,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">format...&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;({ char __str[1000]; sprintf(__str , ##format); ulDrawString(x, y, __str); })</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws text using printf format somewhere on the screen. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x,y</em>&nbsp;</td><td>Positions where to draw the text </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>Printf-like string (ex: "%i", someInteger) </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g2ae468a0f52453e15d842cef4f6f6b91"></a><!-- doxytag: member="text.h::ulInitText" ref="g2ae468a0f52453e15d842cef4f6f6b91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ulInitText           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the text system with the default supplied font (2 kB). Can be called several times, it will then only set the default font. 
</div>
</div><p>
<a class="anchor" name="g9a0ff65f930b62cd20f1b15df3df49e1"></a><!-- doxytag: member="text.h::ulCreateFont" ref="g9a0ff65f930b62cd20f1b15df3df49e1" args="(UL_FONTINFO *fi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a>* ulCreateFont           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_l___f_o_n_t_i_n_f_o.html">UL_FONTINFO</a> *&nbsp;</td>
          <td class="paramname"> <em>fi</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new font based on a FONTINFO header. Not very useful, as you should load fonts from a whole file. The only use it currently has is for the default font, which is embedded in the source code (but even there, you could only put the binary data of the file in a simple table and use a virtual file to open and load it). 
</div>
</div><p>
<a class="anchor" name="g5587621b750ebb5bae92ab5f1d08971f"></a><!-- doxytag: member="text.h::ulLoadFont" ref="g5587621b750ebb5bae92ab5f1d08971f" args="(VIRTUAL_FILE *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a>* ulLoadFont           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_v_i_r_t_u_a_l___f_i_l_e.html">VIRTUAL_FILE</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads a font from an open virtual file. 
</div>
</div><p>
<a class="anchor" name="g3ceb66f3f39d33aad66472c1ec9443a1"></a><!-- doxytag: member="text.h::ulDrawChar" ref="g3ceb66f3f39d33aad66472c1ec9443a1" args="(int x, int y, unsigned char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ulDrawChar           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>c</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws a character to the specified positions. 
</div>
</div><p>
<a class="anchor" name="gd82d4e5f5778e56cd7670980eb7abceb"></a><!-- doxytag: member="text.h::ulDrawString" ref="gd82d4e5f5778e56cd7670980eb7abceb" args="(int x, int y, const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ulDrawString           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws a string to the specified positions.<p>
Note: Drawing an entire string is faster than drawing characters individually. 
</div>
</div><p>
<a class="anchor" name="gfc589388a5d3bc2860e53c8cef305c9e"></a><!-- doxytag: member="text.h::ulSetTextColor" ref="gfc589388a5d3bc2860e53c8cef305c9e" args="(UL_COLOR color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ulSetTextColor           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drawing.html#geefa5857a2cf954b5d167c4803e2b61b">UL_COLOR</a>&nbsp;</td>
          <td class="paramname"> <em>color</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the text color. 
</div>
</div><p>
<a class="anchor" name="gde9e53a1636d10af6118bae243c459a1"></a><!-- doxytag: member="text.h::ulDrawTextBox" ref="gde9e53a1636d10af6118bae243c459a1" args="(int x0, int y0, int x1, int y1, const char *text, int format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ulDrawTextBox           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Draws a text box. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x0,y0,x1,y1</em>&nbsp;</td><td>Rectangle where the text should be placed on. Text will automatically be word-wrapped (words are not cut in half at the end of a line) so make sure to let enough horizontal space else it will look ugly. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>The text you want to draw. Currently, there is no special format tag supported. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>For future use. Set it to zero for now.</td></tr>
  </table>
</dl>
Also there, it should be faster to draw a text box using this method than doing it by yourself and drawing individual characters. 
</div>
</div><p>
<a class="anchor" name="g97430a307d9f1f78df7c81242006d5aa"></a><!-- doxytag: member="text.h::ulGetStringWidth" ref="g97430a307d9f1f78df7c81242006d5aa" args="(const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ulGetStringWidth           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the size of a string using the current active font. 
</div>
</div><p>
<a class="anchor" name="gbd7a07ed619f6f149e0519ffc5a59a0a"></a><!-- doxytag: member="text.h::ulGetTextBoxHeight" ref="gbd7a07ed619f6f149e0519ffc5a59a0a" args="(int width, int maxHeight, const char *text, int format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ulGetTextBoxHeight           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the height of a text box using the current active font. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>Text box width (x1 - x0 in ulDrawTextBox) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxHeight</em>&nbsp;</td><td>Height limit. If set to 0, there will be no limit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>text</em>&nbsp;</td><td>Text. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>Let it to 0. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g661817b19e16b823ca6dfa7490539fa4"></a><!-- doxytag: member="text.h::ul_curFont" ref="g661817b19e16b823ca6dfa7490539fa4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a>* <a class="el" href="group__text.html#g661817b19e16b823ca6dfa7490539fa4">ul_curFont</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Currently selected font. 
</div>
</div><p>
<a class="anchor" name="gd08afa62af824bf66b28409c6879297f"></a><!-- doxytag: member="text.h::ul_lcdFont" ref="gd08afa62af824bf66b28409c6879297f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_l___f_o_n_t.html">UL_FONT</a>* <a class="el" href="group__text.html#gd08afa62af824bf66b28409c6879297f">ul_lcdFont</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default LCD font (loaded upon call to ulInitConsole). 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jul 14 23:39:33 2007 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
